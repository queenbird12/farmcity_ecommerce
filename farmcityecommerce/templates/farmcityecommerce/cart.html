{% extends 'partials/base.html' %}
{% load static %}
{% block content %}

<!-- Hero Section End -->
<section class="shoping-cart spad">
    <div class="container">
        <!-- Cart Header -->
        <div class="row mb-4">
            <div class="col-lg-12">
                <table class="shoping__cart__table w-100">
                    <tr>
                        <th><h5>Items: <strong>{{order.get_cart_items|floatformat:2}}</strong></h5></th>
                        <th><h5>Total: <strong>Ksh {{order.get_cart_total|floatformat:2}} </strong></h5></th>
                        <th>
                            <a style="float:right; margin:5px;" class="btn btn-success" href="{% url 'farmcityecommerce:checkout' %}">
                                Checkout
                            </a>
                        </th>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Cart Items -->
        <div class="container">
            <div class="cart-row d-flex justify-content-between align-items-center mb-3">
                <div style="flex: 2"><strong>Item</strong></div>
                <div style="flex: 1"><strong>Price</strong></div>
                <div style="flex: 1"><strong>Quantity</strong></div>
                <div style="flex: 1"><strong>Total</strong></div>
            </div>
            
            {% for item in items %}
            <div class="cart-row d-flex justify-content-between align-items-center mb-3">
                <div style="flex: 2" class="d-flex align-items-center">
                    <img class="row-image mr-3" src="{{ item.product.image.url }}" alt="Product Image" 
                         style="width: 60px; height: 60px; border-radius: 5px;">
                    <span>{{ item.product.name }}</span>
                </div>
                <div style="flex: 1">Price: {{ item.product.price|floatformat:2 }}</div>
                <div style="flex: 1" class="quantity-control">
                    <div class="d-flex align-items-center">
                        <!-- Increment Quantity -->
                        <img class="chg-quantity mr-2" src="{% static 'img/arrowup.png' %}" 
                             alt="Increase Quantity" onclick="updateCart('{{ item.id }}', 1)">
            
                        <!-- Display Quantity -->
                        <span id="quantity-display-{{ item.id }}" class="mx-2">{{ item.quantity }}</span>
            
                        <!-- Decrement Quantity -->
                        <img class="chg-quantity ml-2" src="{% static 'img/arrowdown.png' %}" 
                             alt="Decrease Quantity" onclick="updateCart('{{ item.id }}', -1)">
                    </div>
                </div>
                <div style="flex: 1">Ksh {{ item.get_total|floatformat:2 }}</div>
            </div>
            
            {% endfor %}
        </div>

        <!-- Cart Footer -->
        <div class="row mt-4">
            <!-- Continue Shopping and Update Cart -->
            <div class="col-lg-12">
                <div class="shoping__cart__btns d-flex justify-content-between">
                    <a href="{% url 'farmcityecommerce:home' %}" class="btn btn-primary">CONTINUE SHOPPING</a>
                    <a href="#" class="btn btn-outline-primary">
                        <span class="icon_loading"></span> Update Cart
                    </a>
                </div>
            </div>

            <!-- Discount Code -->
            <div class="col-lg-6 mt-4">
                <div class="shoping__continue">
                    <div class="shoping__discount">
                        <h5>Discount Codes</h5>
                        <form action="#">
                            <input type="text" class="form-control mb-3" placeholder="Enter your coupon code">
                            <button type="submit" class="btn btn-secondary">APPLY COUPON</button>
                        </form>
                    </div>
                </div>
            </div>

            <!-- Cart Total -->
</section>


<!-- Breadcrumb Section Begin 
<section class="breadcrumb-section set-bg" data-setbg="img/breadcrumb.jpg">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <div class="breadcrumb__text">
                    <h2>Shopping Cart</h2>
                    <div class="breadcrumb__option">
                        <a href="./index.html">Home</a>
                        <span>Shopping Cart</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> -->
<!-- Breadcrumb Section End -->

<!-- Shoping Cart Section Begin 
<section class="shoping-cart spad">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                    <table class="shoping__cart__table">
                            <tr>
                                <th><h5>Items: <strong>3</strong></h5></th>
                                <th><h5>Total: <strong>ksh 43</strong></h5></th>

                                <th>
                                    <a style="float:right; margin:5px" class="btn btn success"
                                    href="{% url 'farmcityecommerce:checkout' %}">Checkout</a>
                                </th>
                            </tr>
                    </table>
            </div>

            <div class ="container">
                <div class="cart-row">
                    <div style="flex:2"></div>
                    <div style="flex:2"><strong>Item</strong></div>
                    <div style="flex:2"><strong>Price</strong></div>
                    <div style="flex:2"><strong>Quantity</strong></div>
                    <div style="flex:2"><strong>Total</strong></div>
                </div>

                <div class="cart-row">
                    <div style="flex:2"><img class= "row-image" src="{% static 'img/cart/cart-1.jpg' %}"></div>
                    <div style="flex:2">Product1</div>
                    <div style="flex:1">>ksh 20</div>
                    <div style="flex:1">
                        <p class = "quantity"></p>
                        <div class= "quantity">
                            <img class="chg-quantity" src="{% static 'images/arrowup.png' %}">
                            <img class="chg-quantity" src="{% static 'images/arrowdown.png' %}">
                        </div>
                    </div>
                    <div style="flex:1">$40</div>
                </div>
            </div>
                                <!--<td class="shoping__cart__item">
                                    <img src="{% static 'img/cart/cart-1.jpg' %}" alt="">
                                    <h5>Vegetableâ€™s Package</h5>
                                </td>
                                <td class="shoping__cart__price">
                                    $55.00
                                </td>
                                <td class="shoping__cart__quantity">
                                    <div class="quantity">
                                        <div class="pro-qty">
                                            <input type="text" value="1">
                                        </div>
                                    </div>
                                </td>
                                <td class="shoping__cart__total">
                                    $110.00
                                </td>
                                <td class="shoping__cart__item__close">
                                    <span class="icon_close"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="shoping__cart__item">
                                    <img src="{% static 'img/cart/cart-2.jpg' %}" alt="">
                                    <h5>Fresh Garden Vegetable</h5>
                                </td>
                                <td class="shoping__cart__price">
                                    $39.00
                                </td>
                                <td class="shoping__cart__quantity">
                                    <div class="quantity">
                                        <div class="pro-qty">
                                            <input type="text" value="1">
                                        </div>
                                    </div>
                                </td>
                                <td class="shoping__cart__total">
                                    $39.99
                                </td>
                                <td class="shoping__cart__item__close">
                                    <span class="icon_close"></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="shoping__cart__item">
                                    <img src="{% static 'img/cart/cart-3.jpg' %}" alt="">
                                    <h5>Organic Bananas</h5>
                                </td>
                                <td class="shoping__cart__price">
                                    $69.00
                                </td>
                                <td class="shoping__cart__quantity">
                                    <div class="quantity">
                                        <div class="pro-qty">
                                            <input type="text" value="1">
                                        </div>
                                    </div>
                                </td>
                                <td class="shoping__cart__total">
                                    $69.99
                                </td>
                                <td class="shoping__cart__item__close">
                                    <span class="icon_close"></span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div> -->
       <!-- <div class="row">
            <div class="col-lg-12">
                <div class="shoping__cart__btns">
                    <a href="{% url 'farmcityecommerce:home' %}" class="primary-btn cart-btn">CONTINUE SHOPPING</a>
                    <a href="#" class="primary-btn cart-btn cart-btn-right"><span class="icon_loading"></span>
                        Update Cart</a>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="shoping__continue">
                    <div class="shoping__discount">
                        <h5>Discount Codes</h5>
                        <form action="#">
                            <input type="text" placeholder="Enter your coupon code">
                            <button type="submit" class="site-btn">APPLY COUPON</button>
                        </form>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="shoping__checkout">
                    <h5>Cart Total</h5>
                    <ul>
                        <li>Subtotal <span>$454.98</span></li>
                        <li>Total <span>$454.98</span></li>
                    </ul>
                    <a href="{% url 'farmcityecommerce:checkout' %}" class="primary-btn">PROCEED TO CHECKOUT</a>
                </div>
            </div>
        </div>
    </div>
</section> -->
<!-- Shoping Cart Section End -->

{% endblock content %}